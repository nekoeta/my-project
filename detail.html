<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <title>ポケモン詳細</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <div id="detail"></div>
  <!-- 進化情報表示用 -->
  <div id="evolution"></div>

  <script src="data.js"></script>
  <script>
    const params = new URLSearchParams(location.search);
    const id = parseInt(params.get('id'));
    const item = items.find(i => i.id === id);

    if (item) {
      document.getElementById('detail').innerHTML = `
        <h1>${item.name}</h1>
        <img src="${item.image}" alt="${item.name}" class="image">
        <p>${item.description}</p>
        <p><strong>タイプ:</strong> ${item.type}</p>
        <a href="index.html">← 戻る</a>
      `;

      const evoContainer = document.getElementById('evolution');
      if (item.evolvesTo) {
        if (Array.isArray(item.evolvesTo)) {
          // 複数進化先の表示
          evoContainer.innerHTML = `<h2>進化先</h2><ul>` +
            item.evolvesTo.map(evo => 
              `<li><a href="detail.html?id=${evo.id}">${evo.name}</a>（${evo.condition}）</li>`
            ).join('') + `</ul>`;
        } else if (item.evolvesTo !== null) {
          // 単一進化先の表示
          const evoItem = items.find(i => i.id === item.evolvesTo);
          if (evoItem) {
            evoContainer.innerHTML = `
              <h2>進化先</h2>
              <p><a href="detail.html?id=${evoItem.id}">${evoItem.name}</a></p>
            `;
          }
        }
      } else {
        evoContainer.innerHTML = '';
      }

    } else {
      document.getElementById('detail').innerHTML = "<p>ポケモンが見つかりません</p>";
    }
  </script>
</body>
</html>
